---
title: "Ruby's Regexp Class"
date: "2020-07-19"
categories: 
  - "ruby"
tags: 
  - "rails"
  - "regexp"
---

A regular expression (_regex_) is a sequence of characters that define how to search and match patterns in a string. It is commonly used in all modern programming languages like Java, Ruby, and Python.

Ruby uses the class Regexp to store a _regex._ Regexp are delimited using the following literals and constructor:

```ruby
/.../
%r{...}
Regexp::new
```

You can call the _match()_ method to check whether a string contains the pattern. For instance:

```ruby
/I love apples/.match("love")
```

will return either `nil` if a match is not found, or a `MatchData` object if it is found. There is another similar operator `=~` that returns the index of the first match in the string, otherwise it returns `nil`.

The `match` method also accepts a block, which will be executed with `MatchData` if `match` succeeded. See below:

```ruby
sentence.match(pattern) do |match|
  ...
end
```

You can also use `[]` which is like `match`:

```ruby
"foo+account@gmail.com"\[/\\+(\[^@\]+)/, 1\]
```

This will match capture group 1 which, in the above example, is what is inside `()`.

You can use `?<name>` to name capture groups so that you can reference them when performing `match`:

```ruby
/\\$(?<dollars>\\d+)\\.(?<cents>\\d+)/.match("$3.67")\[:dollars\]
```

The above will return "3".

`Regexp` also has a static class method `last_match()` that returns the `MatchData` object that is generated by the previous successful pattern match in your code. This is equivalent to reading the global variable `$~.MatchData`. So for example:

```ruby
/I love apples/.match("love")
puts Regexp.last\_match(0)
```

Here, it will print out the first match in the expression.
